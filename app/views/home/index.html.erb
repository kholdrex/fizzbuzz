<div class="row">
  <div class="col12 m12">
    <h3>FizzBuzz Game</h3>
  </div>
  <div class="col12 m12">
    <div class="row">
      <form>
        <div class="input-field col s6">
          <%= text_field_tag(:iterations, params[:iterations], class: 'validate', required: true) %>
          <label class="active" for="iterations">Number of Iterations (MAX: 5000)</label>
        </div>
        <div class="input-field col s6">
          <%= submit_tag('GO', class: 'btn-floating btn-large waves-effect waves-light red') %>
        </div>
      </form>
    </div>
  </div>

  <%- if @result && @result.count > 0 %>
      <table>
        <thead>
        <tr>
          <th></th>
          <th>1</th>
          <th>2</th>
          <th>3</th>
          <th>4</th>
        </tr>
        </thead>
        <tbody>
        <%- @result.each_with_index do |v, index| %>
            <%- if index == 0 %>
                <tr>
                  <th><%= index + 1 %></th>
            <% end %>
            <td><%= fizz_buzz_color v %></td>
            <%- if ((index + 1) % 4 == 0) && @result.count != index + 1 %>
                </tr><tr>
          <th><%= (index + 5) / 4 %></th>
            <% end %>

            <%- if @result.count == index + 1 %>
                </tr>
            <% end %>
        <% end %>
        </tbody>
      </table>
  <% end %>
</div>
</div>